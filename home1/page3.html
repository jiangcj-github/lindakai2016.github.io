<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>git常用命令</title>
    <link href="../bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/page.css" rel="stylesheet">
</head>
<body>

<div class="container">
    <div class="row">
        <div class="col-md-10 col-md-offset-1">
            <div class="page-header">
                <h3>
                    git常用命令
                </h3>
            </div>
            <p>
                git环境设置
            </p>
            <p>
            <pre>
git config --global user.name "username"    <comment>#设置全局用户名</comment>
git config --global user.email "email@example.com"  <comment>#设置全局邮箱</comment>
git config --global credential.helper store     <comment>#将配置文件添加到全局配置，使用https方式避免重复输入用户名密码</comment>
git config user.name "username"    <comment>#设置当前项目用户名</comment>
git config user.email "email@example.com"  <comment>#设置当前项目邮箱</comment></pre>
            </p>
            <p>
                git仓库管理
            </p>
            <p>
            <pre>
git init    <comment>#初始化本地仓库</comment>
git remote -v   <comment>#查看远程服务器地址和仓库名称</comment>
git remote show origin  <comment>#查看远程服务器仓库状态</comment>
git remote add origin [url]  <comment>#添加远程仓库</comment>
git remote rm origin [url]  <comment>#删除远程仓库</comment>
git clone [url]     <comment>#用带版本的项目创建纯版本仓库</pre></comment>
            </p>
            <p>
                git更新项目
            </p>
            <p>
            <pre>
git fetch origin master  <comment>#获取master分支的更新</comment>
git merge origin/master     <comment>#将master分支合并到本地分支</comment>
git pull origin master   <comment>#抓取master分支的更新并合并到本地，结合fetch与merge操作</pre></comment>
            </p>
            <p>
                git提交项目
            </p>
            <p>
            <pre>
git add [file]    <comment>#将文件修改添加到本地暂存区</comment>
git add .   <comment>#将工作区所有修改添加到暂存区</comment>
git rm [file]   <comment>#移除文件(从暂存区和工作区中删除)</comment>
git rm --cached [file]  <comment>#移除文件(只从暂存区中删除)</comment>
git commit -m [注释]    <comment>#提交工作区经过add添加的内容，每次经过commit操作都会在本地生成新的版本库HEAD，可以使用git diff HEAD对比工作区与版本库差别。</comment>
git push origin master  <comment>#将本地分支推送到master</pre></comment>
            </p>
            <p>
                git备份
            </p>
            <p>
                <pre>
git stash      <comment>#比较工作区与版本库，如果有未commit的内容则备份当前工作区</comment>
git stash pop   <comment>#从Git栈中读取最近一次保存的内容，恢复工作区的相关内容，并从栈中删除</comment>
git stash list    <comment>#显示Git栈内的所有备份，可以利用这个列表来决定从那个地方恢复。</comment>
git stash clear     <comment>#清空Git栈。</comment>
git stash apply     <comment>#不删除已恢复的进度，其他同git stash pop</comment>
git stash drop  <comment>#删除某一个进度，默认删除最新进度</pre></comment>
            </p>
            <p>git查看、切换、创建和删除分支</p>
            <p>
            <pre>
git branch -r origin/master     <comment>#查看master分支的更新</comment>
git branch -a   <comment>#查看所有分支的更新</comment>
git branch [new_branch]     <comment>#创建新的分支</comment>
git branch -v   <comment>#查看各个分支最后提交信息</comment>
git branch --merged     <comment>#查看已经被合并到当前分支的分支</comment>
git branch --no-merged  <comment>#查看尚未被合并到当前分支的分支</comment>
git branch -d [branch]  <comment>#删除某个分支</comment>
git branch -D [branch]  <comment>#强制删除某个分支 (未被合并的分支被删除的时候需要强制)</pre></comment>
            </p>
            <p>冲突处理</p>
            <p>
                <pre>
git diff    <comment>#比较工作区与暂存区差异</comment>
git diff --cached    <comment>#比较暂存区和版本库差异，版本库即最近一次commit的内容</comment>
git diff --staged   <comment>#同上</comment>
git diff HEAD   <comment>#比较工作区与版本库差异</pre></comment>
            </p>
            <p>常见错误</p>
            <p>
                <pre>
<primary>执行git pull，出现git refusing to merge unrelated histories</primary>
解决方法：git pull后面加--allow-unrelated-histories选择，强制合并
    git pull origin master --allow-unrelated-histories

<primary>执行git pull，出现Exiting because of an unresolved conflict.</primary>
解决方法：出现这个问题是由于本地版本库与远程库内容冲突，使用git diff HEAD查看冲突内容，手动解决。之后再运行
    git add .
    git commit -m [注释]
    git push origin master
更新版本库及远程库

<primary>执行git push，出现failed to push some refs to XXX。</primary>
解决方法：由于本地版本库与远程库不一致，即有其他人提交修改，本地库未更新。运行
    git pull origin master
之后再执行git push命令提交。

<primary>.gitignore无效</primary>
运行下面命令本地缓存
   git rm -r --cached .
之后再执行git push命令提交。</pre>
            </p>
        </div>
    </div>
</div>

<script src="../js/jquery-3.1.1.min.js"></script>
<script src="../bootstrap-3.3.7/js/bootstrap.min.js"></script>
</body>
</html>